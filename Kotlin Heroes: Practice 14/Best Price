import java.io.BufferedReader
import java.io.InputStreamReader

fun main() {
    val br = BufferedReader(InputStreamReader(System.`in`))
    val t = br.readLine().toInt()
    val out = StringBuilder()

    repeat(t) {
        val (n, k) = br.readLine().split(" ").map { it.toInt() }
        val a = br.readLine().split(" ").map { it.toInt() }.toIntArray()
        val b = br.readLine().split(" ").map { it.toInt() }.toIntArray()

        // count how many a and b events at each value
        val cnt = mutableMapOf<Int, IntArray>()  // 0 -> a, 1 -> b
        for (i in 0 until n) {
            cnt.computeIfAbsent(a[i]) { IntArray(2) }[0]++
            cnt.computeIfAbsent(b[i]) { IntArray(2) }[1]++
        }

        val values = cnt.keys.sorted()
        var buyers = n
        var neg = 0
        var ans = 0L

        for (v in values) {
            val c = cnt[v]!!
            if (neg <= k) {
                ans = maxOf(ans, v.toLong() * buyers)
            }
            // add customers whose a_i < v (they become negative for higher prices)
            neg += c[0]
            // remove customers whose b_i = v (they stop buying)
            buyers -= c[1]
            neg -= c[1]          // they were negative because a_i < b_i = v
        }

        out.appendLine(ans)
    }

    print(out)
}
